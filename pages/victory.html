<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Il Castello Maledetto - Vittoria!</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/victory.css">
</head>
<body>
<div id="victory-scene">
    <div class="treasure-background">
        <img id="treasure-bg"
             src="../assets/images/backgrounds/corridoio_.png"
             alt="Corridoio del tesoro">
    </div>

    <div class="victory-overlay">
        <!-- Particelle d'oro animate -->
        <div class="gold-particles"></div>

        <!-- Contenuto principale -->
        <div class="victory-content">
            <h1 class="victory-title">üèÜ VITTORIA! üèÜ</h1>
            <div class="victory-message">
                <p class="congratulations">Complimenti, coraggioso avventuriero!</p>
                <p class="story-text">
                    Hai risolto l'enigma delle statue e scelto la porta giusta.<br>
                    Il tesoro del castello maledetto √® finalmente tuo!
                </p>
            </div>

            <!-- Statistiche della partita -->
            <div class="game-stats">
                <h3>üìä Statistiche Partita</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-value" id="completion-time">--:--</span>
                        <span class="stat-label">Tempo Completamento</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="questions-asked">0</span>
                        <span class="stat-label">Domande Poste</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value">Prima!</span>
                        <span class="stat-label">Porta Scelta</span>
                    </div>
                </div>
            </div>

            <!-- Azioni disponibili -->
            <div class="victory-actions">
                <button class="victory-btn primary" onclick="playAgain()">
                    üîÑ Gioca Ancora
                </button>
                <button class="victory-btn secondary" onclick="shareVictory()">
                    üì§ Condividi Vittoria
                </button>
                <button class="victory-btn secondary" onclick="goToMenu()">
                    üè† Menu Principale
                </button>
            </div>

            <!-- Easter egg: enigma bonus -->
            <div class="bonus-section">
                <button class="bonus-btn" onclick="showBonusRiddle()">
                    ‚ú® Enigma Bonus
                </button>
            </div>
        </div>
    </div>

    <!-- Modal per l'enigma bonus -->
    <div id="bonus-modal" class="modal hidden">
        <div class="modal-content bonus-content">
            <span class="close-btn" onclick="hideBonusRiddle()">&times;</span>
            <h2>üåü Enigma del Maestro</h2>
            <p class="bonus-question">
                "Sono pi√π forte quando sono spezzato,<br>
                pi√π utile quando sono rovinato,<br>
                e pi√π prezioso quando sono dimenticato.<br>
                Cosa sono?"
            </p>
            <div class="bonus-answer-section">
                <input type="text"
                       id="bonus-answer"
                       placeholder="Scrivi la tua risposta..."
                       maxlength="50">
                <button class="btn" onclick="checkBonusAnswer()">
                    Verifica
                </button>
            </div>
            <div id="bonus-result" class="bonus-result hidden"></div>
        </div>
    </div>

    <!-- Audio per la vittoria -->
    <audio id="victory-music"
           src="../assets/audio/music/Viking_Feast.mp3"
           loop>
    </audio>
    <audio id="treasure-sound"
           src="../assets/audio/effects/treasure.wav">
    </audio>
</div>

<script src="../js/main.js"></script>
<script src="../js/victory.js"></script>
</body>
</html>